  generator client {
    provider = "prisma-client-js"
  }

  datasource db {
    provider = "postgresql"
    url      = env("DATABASE_URL")
  }

  model User {
    id       Int     @id @default(autoincrement())
    username String  @unique
    email    String  @unique
    password String
    role     Role
    groups   Group[] @relation("GroupToUser")
    messages Message[] @relation("UserToMessage")
  }
  model Message {
    id      Int    @id @default(autoincrement())
    content String
    date    String @default(dbgenerated("CURRENT_TIMESTAMP"))
    groupId Int
    group   Group?  @relation("GroupToMessage", fields: [groupId], references: [id])
    userId  Int
    user    User?   @relation("UserToMessage", fields: [userId], references: [id])
  }
  model Report {
    id          Int    @id @default(autoincrement())
    description String
    date        String @default(dbgenerated("CURRENT_TIMESTAMP"))
  }

  model Group {
    id          Int    @id @default(autoincrement())
    name        String
    description String
    code        String @default(uuid()) @unique
    users       User[] @relation("GroupToUser")
    messages    Message[] @relation("GroupToMessage")
  }



  enum Role {
    admin
    student
    lecturer
  }
